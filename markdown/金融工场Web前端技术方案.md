# Web前端技术方案

从程序员成长为技术经理 (不是CTO)

我的职责

* 组建Web前端部门
* 人Web前端部门的工作走上正轨

### 第一次技术升级

刚刚接手的时候, Web前端的状况不仅乱, 而且还无处着手. 甚至根本就没有web前端部门, 所有前端开发都归属于设计部.

所以第一次的技术升级, 主要问题是找到问题, 理清思路

#### 乱

2年多时间积累下来的, 陈年的二手代码, 代码经过好几手, 已经惨不忍睹. 各种各样的用法, 习惯, 风格混在一起难以理清

#### 散

原来的服务采用单体服务, 前端页面由后端(Java/PHP)代码渲染生成. HTML/JavaScript/CSS 的片段散布在各个地方
甚至有代码判断通过CMS后台录入, 再通过数据读取出来渲染到页面当中. 想改都不知道从何下手

#### 多

每个后端开发人员都多少写了一点前端代码(简单的代码片段), 类似的重复的功能很多. 无法抽象整理

**解决方法**

1. 刷存在感, 技术只是铺垫, 首先要解决的是, 让其他同事知道我们有一个Web前端部门.
2. 制定工作流, Web前端不再是设计部或者后端开发的附庸.

整站的前端代码

引入git工具, 启用版本管理维护代码

刚着手的时候, Web前端甚至都没有自己的代码库, 更没有前端代码的版本.
从搭建gitlab私服开始, 部门内部推广git管理工具.

这一阶段的主要任务是让Web前端有自己的存在感.

### 第二次技术升级

引入前端编译工具 Gulp

这一阶段的主要任务是, 独立Web前端, 成为一个单独的开发环节

难点:

1. 招聘人才的困难
2. 学习曲线的困难
3. 如何解决与原有开发流程上的冲突

### 第三次技术升级

全面的/完整的 行业内目前最佳实践方案, 并且作了自定义的修改, 更符合现在的开发模型, 减少迁移痛苦

`风险决定`

**引入Webpack**

引入这个框架的时候, 冒着相当大的风险. 那时候的感觉, 自己像是在"玩火", 到底是是"玩火自焚"还是"照亮方向"并不是很有把握.

Gulp + Webpack + React + Mobx

风险点有2个

1. Webpack的引入能否平滑迁移现有项目
2. 部门内是否全部人都能够学会Webpack的开发方式

现在来看, 结果是比较乐观的.

解决方法

1. Gulp + Webpack 的架构, 并没有先例可循. 要自己摸索, 技术要求非常高. 在没有自动化测试的情况下还要保证代码的正确性
2. 给部门内的人时间, 然后相信他们. 相信他们能够顺利掌握.

这一阶段的主要任务是, 提高Web前端的质量和开发效率. 拥有和App竞争的能力

### 尾声

Web前端的发展, 并没有结束. 但是到止为止, 作为支撑公司业务的Web前端的部门已经完成. 可以把此时的部门比作一列火车, 它已经上了轨道, 开始前行.
能走多远, 拭目以待.

